<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>d4close</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C Reference Guide Word Docs\data4.doc">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=437>
<meta name=layout-width content=677>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="data4.css">



</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<h2>d4close</h2>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Usage:&nbsp;&nbsp;&nbsp; 
 </span></span>int d4close( DATA4 *data )&nbsp;</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span 
 class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Description:&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4close 
 </span></span>closes the data file and its corresponding index and memo 
 files. Before closing the files, any necessary flushing to disk is done. 
 If the data file has been modified, the time stamp is also updated. </p>

<p class=Body
	style="text-indent: 0px;">If <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">d4close</span></span> is 
 called during a transaction, the action of <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">d4close</span></span> is 
 delayed until the transaction is committed or rolled back. However, the 
 <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">DATA4</span></span> 
 structure is no longer valid after <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">d4close</span></span> is 
 called.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Returns:</span></span></p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">r4success&nbsp;&nbsp;&nbsp; 
 </span></span>Success. The data file was successfully closed. The <span 
 class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">DATA4</span></span> 
 pointer is invalid after calling <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">d4close</span></span> and 
 it should not be used.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">&lt; 
 0&nbsp;&nbsp;&nbsp; </span></span>Error </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Locking:&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4close</span></span> 
 does any locking necessary to flush changes to disk. After any necessary 
 updating is done, <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4close 
 </span></span>unlocks all files associated with the data file. </p>

<p class=Body
	style="margin-bottom: .0001pt; text-indent: 0px;">Before closing the 
 file, <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4close 
 </span></span>attempts to flush the most recent changes to the record 
 buffer. If the flush attempt does not succeed, <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">d4close </span></span>continues 
 and closes the file anyway. Consequently, <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">d4close</span></span> never 
 returns <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">r4locked 
 </span></span>or<span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;"> 
 r4unique</span></span>. If these values must be checked for prior to the 
 closure, call <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4flush</span></span>, 
 <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4write 
 </span></span>or <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4append</span></span>, 
 as appropriate, before calling <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4close</span></span>. 
 </p>

</body>

</html>
