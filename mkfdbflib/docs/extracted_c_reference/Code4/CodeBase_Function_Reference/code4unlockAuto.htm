<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>code4unlockAuto</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C Reference Guide Word Docs\code4.doc">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=821>
<meta name=layout-width content=741>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="../code4.css">



<!--(Style Sheet)===================================================-->

<style>
<!--

A:visited {
	color: #800080;
}

A:link {
	color: #0000ff;
}

-->
</style>


</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<h2>code4unlockAuto</h2>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Usage:&nbsp;&nbsp;&nbsp; 
 </span></span>int code4unlockAuto( CODE4 *codebase )</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span 
 class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Description:&nbsp;&nbsp;&nbsp; 
 </span></span>This function returns the setting of the automatic unlocking 
 capability of CodeBase. The possible settings are listed below. By default, 
 CodeBase performs automatic unlocking as defined under <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">LOCK4ALL</span></span>, 
 below.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Returns:</span></span></p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">LOCK4OFF</span></span>&nbsp;&nbsp; 
 CodeBase performs no automatic unlocking. It is up to the application 
 developer to unlock a record, file, or append bytes after it is no longer 
 necessary. This setting gives maximum flexibility to the developer, but 
 should be used with care, since it can possibly result in deadlock.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span 
 class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">LOCK4DATA</span></span>&nbsp;&nbsp; 
 CodeBase performs automatic unlocking on a data file by data file basis. 
 Before placing a new lock on a data file, CodeBase removes any previous 
 locks placed on the same file. This setting is only provided for backwards 
 compatibility with CodeBase 5.x, and may not be supported in future versions 
 of CodeBase.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">LOCK4ALL</span></span>&nbsp;&nbsp; 
 CodeBase performs automatic unlocking on the entire set of open data files. 
 Any new lock placed using any method forces an automatic removal of every 
 lock placed on every open data file associated with the <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">CODE4 </span></span>structure. 
 This setting is the default action taken by CodeBase.</p>

<p class=Body
	style="text-indent: 0px;">The following scenarios illustrate how a 
 lock is placed in CodeBase. Consider the case when a data file function 
 such as <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4go</span></span> 
 must flush a record before it can proceed. A record must be locked before 
 it can be flushed. At this point the record may already be locked or may 
 need to be locked.</p>

<p class=Body
	style="text-indent: 0px;">If a new lock must be placed, all the previous 
 locks are unlocked according to <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">code4unlockAuto</span></span> 
 before the new lock is be placed. In this case, three possible results 
 can occur depending on the setting of <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">code4unlockAuto</span></span>. 
 If <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">code4unlockAuto</span></span> 
 is set to <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">LOCK4OFF</span></span><span 
 class=InlineFunctionNames><span style="font-size: 12.0pt; font-weight: normal;">,</span></span><b> 
 </b>no automatic unlocking is done and new lock is placed. Thus after 
 the flushing takes place all the previous locks remain in place as does 
 the new lock. If the <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">code4unlockAuto</span></span> 
 is set to <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">LOCK4DATA</span></span><span 
 class=InlineFunctionNames><span style="font-size: 12.0pt; font-weight: normal;">,</span></span> 
 all the locks on the current data file are removed before the new lock 
 is placed. When the flush is completed only the new locks will remain 
 in place on the current data file, while the locks on any other open data 
 files remain unchanged. If the <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">code4unlockAuto</span></span> 
 is set to <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">LOCK4ALL</span></span><span 
 class=InlineFunctionNames><span style="font-size: 12.0pt; font-weight: normal;">,</span></span> 
 all the locks on all open data files are removed before the new lock is 
 placed and when the flush is completed only the new locks remain in place.</p>

<p class=Body
	style="text-indent: 0px;">If the record is locked already, then no 
 new locking is needed and the flushing can proceed. Since there are no 
 new locks to be placed, no unlocking is required, so the setting of <span 
 class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">code4unlockAuto</span></span> 
 is irrelevant. The locks that were in place before the flushing are still 
 in place after the flushing is completed.</p>

<p class=Body
	style="text-indent: 0px;">The above discussion of locking procedures 
 not only applies to flushing but to any case where locking is performed.</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="margin-left: 5.4pt;
				border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 89.7pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=89.7pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;"><img src="../../Images/Note.gif" v:shapes="_x0000_i1063" x-maintain-ratio="TRUE" style="width: 47px;
															height: 40px;
															float: none;
															border-style: none;" width="47" height="40" border="0">&nbsp;<b><sup><span 
 style="font-size: 16.0pt; font-family: Arial;">Note</span></sup></b></td>
<td style="x-cell-content-align: top;
			width: 306.3pt;
			border: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=306.3pt>
<p class=NoteText>The purpose of automatic unlocking is to make application 
 code simpler and shorter by making it unnecessary to program unlocking 
 protocols. In addition, automatic unlocking can prevent deadlock from 
 occurring. </td></tr>
</table>

<p class=Body
	style="margin-top: 6.0pt;
			margin-right: 0in;
			margin-bottom: .0001pt;
			margin-left: 1.25in;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle
		style="font-size: 9.0pt; font-family: Arial;">See Also:</span>&nbsp;&nbsp; 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="code4lock.htm">code4lock</a></span><span 
 class=InlineFunctionNames
	style="font-size: 12.0pt; font-weight: normal;">,</span><span class=InlineFunctionNames
	style="font-size: 10.0pt; font-family: Arial;"> <a href="code4unlockAuto.htm">code4unlock</a></span><span 
 class=InlineFunctionNames
	style="font-size: 12.0pt; font-weight: normal;">,</span><span class=InlineFunctionNames
	style="font-size: 10.0pt; font-family: Arial;"> <a href="../../Data_File_Functions/d4lock.htm">d4lock</a></span><span 
 class=InlineFunctionNames
	style="font-size: 12.0pt; font-weight: normal;">,</span><span class=InlineFunctionNames
	style="font-size: 10.0pt; font-family: Arial;"> <a href="../../Data_File_Functions/d4unlock.htm">d4unlock</a></span><span 
 class=InlineFunctionNames
	style="font-size: 12.0pt; font-weight: normal;">,</span><span class=InlineFunctionNames
	style="font-size: 10.0pt; font-family: Arial;"> <a href="../../Data_File_Functions/d4flush.htm">d4flush</a></span></p>

</body>

</html>
