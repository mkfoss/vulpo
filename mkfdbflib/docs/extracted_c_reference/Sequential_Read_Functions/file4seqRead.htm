<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>file4seqRead</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C Reference Guide Word Docs\file4.doc">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=875>
<meta name=layout-width content=741>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="file4.css">



</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<h2>file4seqRead</h2>

<p class=Body
	style="margin-top: 0in;
			margin-right: 0in;
			margin-bottom: .0001pt;
			margin-left: 184.5pt;
			text-indent: -184.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Usage:&nbsp;&nbsp;&nbsp; 
 </span></span>unsigned file4seqRead ( FILE4SEQ_READ&nbsp;*seqRead, void&nbsp;*ptr, 
 unsigned&nbsp;len&nbsp;)</p>

<p class=Body
	style="margin-top: 6.0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Description:&nbsp;&nbsp;&nbsp; 
 </span></span>Information is read from the file, starting at the next 
 position, and stored in <i>ptr</i>. An attempt is made to read <i>len 
 </i>bytes. If there are not <i>len </i>bytes left in the buffer, a physical 
 disk read occurs to refill the buffer. </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=InlineFunctionDescTitle><span 
 style="font-size: 9.0pt; font-family: Arial;">Parameters:</span></span></p>

<p class=Body><span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">seqRead&nbsp;&nbsp;&nbsp; 
 </span></span>A pointer to a structure containing information for the 
 sequential read access.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">ptr&nbsp;&nbsp;&nbsp; 
 </span></span>This a pointer to the program allocated memory to where 
 len bytes of the buffered file is copied. <i>ptr </i>must point to at 
 least len bytes of memory. </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">len&nbsp;&nbsp;&nbsp; 
 </span></span><i>len </i>is the number of bytes to copy into <i>ptr</i>. 
 </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Returns:&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">file4seqRead</span></span> 
 returns the number of bytes actually read. If zero is returned, check 
 <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">CODE4.errorCode</span></span> 
 for a potential error. </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle
		style="font-size: 9.0pt; font-family: Arial;">See Also:</span>&nbsp;&nbsp; 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="../File_Functions/file4read.htm">file4read</a></span></p>

<p class=SourceCode>/*ex117.c*/</p>

<p class=SourceCode>#include &quot;d4all.h&quot; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>typedef struct myStructSt </p>

<p class=SourceCode>{</p>

<p class=SourceCode>&nbsp;&nbsp; int id ;</p>

<p class=SourceCode>&nbsp;&nbsp; char password[9] ;</p>

<p class=SourceCode>} MY_STRUCT ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>int getNextStructure( FILE4SEQ_READ *seqFile, MY_STRUCT 
 *ms ) </p>

<p class=SourceCode>{</p>

<p class=SourceCode>&nbsp;&nbsp; if( file4seqRead( seqFile, ms, sizeof( 
 MY_STRUCT ) ) != sizeof( MY_STRUCT ) )</p>

<p class=SourceCode>&nbsp;&nbsp; {</p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset( ms, 0, 
 sizeof(MY_STRUCT ) ) ;</p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1 ;</p>

<p class=SourceCode>&nbsp;&nbsp; }</p>

<p class=SourceCode>&nbsp;&nbsp; return 0 ;</p>

<p class=SourceCode>}</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>void main()</p>

<p class=SourceCode>{</p>

<p class=SourceCode>&nbsp;&nbsp; CODE4 cb ;</p>

<p class=SourceCode>&nbsp;&nbsp; FILE4 passFile ;</p>

<p class=SourceCode>&nbsp;&nbsp; FILE4SEQ_READ readFile ;</p>

<p class=SourceCode>&nbsp;&nbsp; MY_STRUCT *person ;</p>

<p class=SourceCode>&nbsp;&nbsp; char buffer[0x1400] ; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; code4init( &amp;cb ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; file4open( &amp;passFile, &amp;cb, &quot;TEST.FIL&quot;, 
 0 ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; file4seqReadInit( &amp;readFile, &amp;passFile, 
 0, buffer, sizeof(buffer) );</p>

<p class=SourceCode>&nbsp;&nbsp; person = ( MY_STRUCT *) malloc( sizeof( 
 MY_STRUCT ) ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; getNextStructure( &amp;readFile, person 
 ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; if ( person != NULL ) </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf( &quot;id: 
 %d password: %s\n&quot;, person-&gt;id, person-&gt;password ) ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; file4close( &amp;passFile ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; code4initUndo( &amp;cb ) ;</p>

<p class=SourceCode>}</p>

</body>

</html>
