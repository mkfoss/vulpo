<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>file4optimize</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C Reference Guide Word Docs\file4.doc">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=691>
<meta name=layout-width content=741>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="file4.css">



</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<div style="border: none;
			border-bottom: solid #000000 2.25pt;
			padding: 0in 0in 1.0pt 0in;">
<h2>file4optimize</h2>
</div>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Usage:&nbsp;&nbsp;&nbsp; 
 </span></span>int file4optimize( FILE4 *file, int optFlag, int fileType 
 )</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span 
 class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Description:&nbsp;&nbsp;&nbsp; 
 </span></span>The default memory optimizations for the file are replaced 
 with the specified settings. When files are opened using the <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">FILE4</span></span> structure, 
 the <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">CODE4.optimize</span></span> 
 setting is used as the default memory optimization. This function does 
 nothing if the library was built with the <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">S4OFF_OPTIMIZE</span></span>&nbsp;switch 
 defined.</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="margin-left: 5.4pt;
				border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 85.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=85.5pt>
<p class=Body
	style="margin: 0in;
			margin-bottom: .0001pt;
			text-indent: 0in;"><img src="../Images/Note.gif" v:shapes="_x0000_i1029" x-maintain-ratio="TRUE" style="width: 47px;
											height: 40px;
											float: none;
											border-style: none;" width="47" height="40" border="0">&nbsp;<b><sup><span style="font-size: 16.0pt; font-family: Arial;">Note</span></sup></b></td>
<td style="x-cell-content-align: top;
			width: 310.5pt;
			border: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=310.5pt>
<p class=NoteText>If optimization has been enabled for a file, it is still 
 necessary to call <span class=InlineFunctionNames><span style="font-size: 10.0pt;">code4optStart</span></span> 
 before optimization actually takes place. </td></tr>
</table>

<p class=Body
	style="margin-top: 6.0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Parameters:</span></span></p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">optFlag&nbsp;&nbsp;&nbsp; 
 </span></span>This flag determines how memory optimizations should be 
 handled for the file. Valid values for <i>optFlag </i>are:</p>

<p class=BodyIndent><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 OPT4EXCLUSIVE</span></span>&nbsp;&nbsp; Read-optimize when files are opened 
 exclusively or when the <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">S4OFF_MULTI</span></span>&nbsp;compilation 
 switch is defined. Otherwise, do not read optimize. If <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">file4optimize</span></span> 
 is not called, this is the default value. </p>

<p class=BodyIndent><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 OPT4OFF&nbsp;&nbsp;&nbsp; </span></span>Do not read optimize. </p>

<p class=BodyIndent>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">OPT4ALL</span></span>&nbsp;&nbsp; 
 This is the same as the <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">OPT4EXCLUSIVE</span></span> 
 option except shared files are also read optimized. </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">fileType&nbsp;&nbsp;&nbsp; 
 </span></span>Different files are optimized differently. This flag allows 
 CodeBase to optimize the file in the most efficient manner. The possible 
 values are:</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="margin-left: 95.8pt;
				border: none;
				x-border-left: 1px table-solid;
				x-border-top: 1px table-solid;
				x-border-right: 1px table-solid;
				x-border-bottom: 1px table-solid;
				border-collapse: separate;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 1.0in;
			border: solid #000000 .75pt;
			border-bottom: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=1in>
<p class=TableHeading
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">Setting</td>
<td style="x-cell-content-align: top;
			width: 120.6pt;
			border-top: solid #000000 .75pt;
			border-left: none;
			border-bottom: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=120.6pt>
<p class=TableHeading
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">Meaning</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 1.0in;
			border-top: none;
			border-left: solid #000000 .75pt;
			border-bottom: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=1in>
<p class=TableText
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">OPT4DBF </td>
<td style="x-cell-content-align: top;
			width: 120.6pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=120.6pt>
<p class=TableText
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">Data file optimization. </td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 1.0in;
			border-top: none;
			border-left: solid #000000 .75pt;
			border-bottom: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=1in>
<p class=TableText
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">OPT4INDEX </td>
<td style="x-cell-content-align: top;
			width: 120.6pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=120.6pt>
<p class=TableText
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">Index file optimization. </td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 1.0in;
			border: solid #000000 .75pt;
			border-top: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=1in>
<p class=TableText
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">OPT4OTHER </td>
<td style="x-cell-content-align: top;
			width: 120.6pt;
			border-top: none;
			border-left: none;
			border-bottom: solid #000000 .75pt;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=120.6pt>
<p class=TableText
	style="margin-top: 3.0pt;
			margin-right: .05in;
			margin-bottom: 3.0pt;
			margin-left: .05in;">Generic optimization. </td></tr>
</table>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Returns:</span></span></p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">r4success&nbsp;&nbsp;&nbsp; 
 </span></span>Success.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">&lt; 
 0&nbsp;&nbsp;&nbsp; </span></span>Error. <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">file4flush</span></span> 
 returned an error.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Locking:&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">file4optimize</span></span> 
 does no locking. However, if optimizations are disabled after having been 
 enabled, a call to <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">file4flush</span></span> 
 is made internally. To maintain data integrity when disabling optimizations, 
 lock the file.</p>

<p class=Body
	style="margin-bottom: .0001pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle
		style="font-size: 9.0pt; font-family: Arial;">See Also:</span>&nbsp;&nbsp; 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="../Data_File_Functions/d4optimize.htm">d4optimize</a></span>, 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="file4flush.htm">file4flush</a></span>, 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="../Code4/CODE4_Structure_Variables/CODE4.optimize.htm">CODE4.optimize</a></span>, 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="../Code4/CODE4_Structure_Variables/CODE4.optimizeWrite.htm">CODE4.optimizeWrite</a></span></p>

</body>

</html>
