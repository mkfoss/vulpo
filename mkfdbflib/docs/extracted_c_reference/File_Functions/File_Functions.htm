<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>File Functions</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C Reference Guide Word Docs\file4.doc">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=800>
<meta name=layout-width content=741>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="file4.css">



</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<div style="border: none;
			border-bottom: solid #000000 2.25pt;
			padding: 0in 0in 1.0pt 0in;">
<h1>File Functions</h1>
</div>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="margin-left: .4pt;
				border: none;
				x-border-left: 1px table-solid;
				x-border-top: 1px table-solid;
				x-border-right: 1px table-solid;
				x-border-bottom: 1px table-solid;
				border-collapse: separate;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border-top: solid #000000 .75pt;
			border-left: solid #000000 .75pt;
			border-bottom: none;
			border-right: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial
	style="margin-left: 0in;"><a href="file4close.htm">file4close</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border-top: solid #000000 .75pt;
			border-left: none;
			border-bottom: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4optimize.htm">file4optimize</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border: none;
			border-left: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4create.htm">file4create</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4optimizeWrite.htm">file4optimizeWrite</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border: none;
			border-left: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4flush.htm">file4flush</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4read.htm">file4read</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border: none;
			border-left: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4len.htm">file4len</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4readAll.htm">file4readAll</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border: none;
			border-left: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4lenSet.htm">file4lenSet</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4refresh.htm">file4refresh</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border: none;
			border-left: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4lock.htm">file4lock</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4replace.htm">file4replace</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border: none;
			border-left: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4name.htm">file4name</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border: none;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4unlock.htm">file4unlock</a></td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 58.5pt;
			border-top: none;
			border-left: solid #000000 .75pt;
			border-bottom: solid #000000 .75pt;
			border-right: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=58.5pt>
<p class=TableSpecial><a href="file4open.htm">file4open</a></td>
<td style="x-cell-content-align: top;
			width: 113.4pt;
			border-top: none;
			border-left: none;
			border-bottom: solid #000000 .75pt;
			border-right: solid #000000 .75pt;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=113.4pt>
<p class=TableSpecial><a href="file4write.htm">file4write</a></td></tr>
</table>

<p class=Body
	style="margin-top: 6.0pt; text-indent: 0px;">The file functions are 
 used to perform low-level file operations such as creating, opening, reading, 
 writing, locking and so forth.</p>

<p class=Body
	style="text-indent: 0px;">The main advantage of using the file<span 
 class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;"> 
 </span></span>functions instead of the standard C runtime functions is 
 that they implement the CodeBase memory optimizations and error handling. 
 </p>

<p class=Body
	style="text-indent: 0px;">CodeBase uses these functions internally 
 instead of the standard C runtime functions to provide greater portability 
 between environments and compilers. </p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="margin-left: 5.4pt;
				border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 85.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=85.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;"><img src="../Images/Note.gif" v:shapes="_x0000_i1025" x-maintain-ratio="TRUE" style="width: 47px;
															height: 40px;
															float: none;
															border-style: none;" width="47" height="40" border="0">&nbsp;<b><sup><span 
 style="font-size: 16.0pt; font-family: Arial;">Note</span></sup></b></td>
<td style="x-cell-content-align: top;
			width: 310.5pt;
			border: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #e5e5e5;"
	bgcolor=#E5E5E5
	valign=top
	width=310.5pt>
<p class=NoteText>When using the file functions in a shared environment, 
 it is the programmers responsibility to lock the files prior to calling 
 <span class=InlineFunctionNames><span style="font-size: 10.0pt;">file4write</span></span>. 
 In addition, files marked for optimization (using <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt;">file4optimize</span></span>) are not actually 
 optimized until <span class=InlineFunctionNames><span style="font-size: 10.0pt;">code4optStart 
 </span></span>is called and the file is locked. </td></tr>
</table>

<p class=Normal>&nbsp;</p>

<p class=SourceCode>/*ex103.c*/</p>

<p class=SourceCode>#include &quot;d4all.h&quot; </p>

<p class=SourceCode>extern unsigned _stklen = 10000 ; /* for all Borland 
 compilers */</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>void main( void ) </p>

<p class=SourceCode>{</p>

<p class=SourceCode>&nbsp;&nbsp; CODE4 cb ;</p>

<p class=SourceCode>&nbsp;&nbsp; FILE4 file ;</p>

<p class=SourceCode>&nbsp;&nbsp; char readInfo[50] ;</p>

<p class=SourceCode>&nbsp;&nbsp; unsigned lenRead ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; code4init( &amp;cb ) ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; file4create( &amp;file, &amp;cb, &quot;TEXT.FIL&quot;, 
 0 ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; error4exitTest( &amp;cb ) ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; file4write( &amp;file, 0, &quot;Some File 
 Information&quot;, 21 ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; lenRead = file4read( &amp;file, 10, readInfo, 
 sizeof( readInfo) ) ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; if( memcmp (readInfo, &quot;Information&quot; 
 , lenRead ) == 0 )</p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf( &quot;This 
 is always true\n&quot; ) ; </p>

<p class=SourceCode>&nbsp;&nbsp; if( lenRead == 11 )</p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf( &quot;This 
 is always true, too\n&quot; ) ; </p>

<p class=SourceCode>&nbsp;&nbsp; file4close( file ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; code4initUndo( &amp;cb ) ;</p>

<p class=SourceCode>}</p>

</body>

</html>
