<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>i4open</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C Reference Guide Word Docs\index4.doc">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=847>
<meta name=layout-width content=741>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="index4.css">



</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<h2>i4open</h2>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Usage:&nbsp;&nbsp;&nbsp; 
 </span></span>INDEX4 *i4open( DATA4 *data, const char *name )&nbsp;</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span 
 class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Description:&nbsp;&nbsp;&nbsp; 
 </span></span>An index file is opened. Note that if <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">CODE4.autoOpen</span></span> 
 is true (non-zero), a production index file is automatically opened when 
 <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4open</span></span> 
 is called. </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=InlineFunctionDescTitle><span 
 style="font-size: 9.0pt; font-family: Arial;">Parameters:</span></span></p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">data&nbsp;&nbsp;&nbsp; 
 </span></span>The data file corresponding to the index file being opened. 
 </p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">name&nbsp;&nbsp;&nbsp; 
 </span></span>This is normally the name of the index file. Alternatively, 
 if <i>name </i>is null, the name of the data file (with the appropriate 
 index file extension) is used as the name of the index file. This feature 
 is used by <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">d4open</span></span> 
 to open production index files. </p>

<p class=Body
	style="text-indent: 0px;">Opening an index file does not change which 
 tag is selected. </p>

<p class=Body
	style="text-indent: 0px;">When Clipper&nbsp;index files are being used, 
 by default CodeBase attempts to open a CodeBase group file. However, specifying 
 a <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">.NTX</span></span>&nbsp;Clipper 
 index file name extension for <i>name</i>, causes CodeBase to open a single 
 index file. In this case, the index file contains a single tag, which 
 has the same name as the index file.</p>

<p class=Body
	style="text-indent: 0px;">If a path is provided in the single user 
 or multi-user configuration, it is used. Otherwise, the file is assumed 
 to be in the current directory.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle><span style="font-size: 9.0pt; font-family: Arial;">Returns:</span></span></p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">Not 
 Null</span></span>&nbsp;&nbsp; A pointer to the<span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;"> INDEX4</span></span> structure 
 corresponding to the opened index file.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">Null</span></span>&nbsp;&nbsp; 
 The index file could not be opened. This is usually an error condition. 
 However, if <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">CODE4.errOpen</span></span> 
 is false and the file does not exist, then there is no error and <span 
 class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">CODE4.errorCode</span></span> 
 is set to <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">r4noOpen</span></span>.</p>

<p class=Body>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <span class=InlineFunctionDescTitle
		style="font-size: 9.0pt; font-family: Arial;">See Also:</span>&nbsp;&nbsp; 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="../Data_File_Functions/d4open.htm">d4open</a></span>, 
 <span class=InlineFunctionNames
		style="font-size: 10.0pt; font-family: Arial;"><a href="i4close.htm">i4close</a></span></p>

<p class=SourceCode>/*ex120.c*/</p>

<p class=SourceCode>#include &quot;d4all.h&quot; </p>

<p class=SourceCode>extern unsigned _stklen = 10000 ; /* for all Borland 
 compilers */ </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>void main( void ) </p>

<p class=SourceCode>{</p>

<p class=SourceCode>&nbsp;&nbsp; CODE4 cb ;</p>

<p class=SourceCode>&nbsp;&nbsp; DATA4 *data ;</p>

<p class=SourceCode>&nbsp;&nbsp; INDEX4 *index ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; code4init( &amp;cb ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; cb.autoOpen = 0 ; /* don't automatically 
 open index file */</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; data = d4open( &amp;cb, &quot;INFO&quot; 
 ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; index = i4open( data, &quot;INFO2&quot; 
 ) ; /* open a secondary index file */</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; cb.lockAttempts = WAIT4EVER ; /* wait 
 until the lock succeeds*/</p>

<p class=SourceCode>&nbsp;&nbsp; d4lockAll ( data ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; if( i4reindex( index ) == 0 )</p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf( &quot;Reindexed 
 successfully\n&quot; ) ;</p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; code4close( &amp;cb ) ;</p>

<p class=SourceCode>&nbsp;&nbsp; code4initUndo( &amp;cb ) ;</p>

<p class=SourceCode>}</p>

</body>

</html>
