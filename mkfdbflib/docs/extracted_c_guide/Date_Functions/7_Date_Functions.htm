<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>Date Functions</title>

<!--(Meta)==========================================================-->

<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Originator content=ImportDoc>
<meta name=OriginalFile content="C:\Documentation\C User Guide Word Docs\CHAP7.DOC">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=3938>
<meta name=layout-width content=710>


<!--(Links)=========================================================-->

<link rel="stylesheet" href="CHAP7.css">



</head>

<!--(Body)==========================================================-->


<body lang=EN-US>

<h1>Date Functions</h1>

<p class=Body
	style="text-indent: 0px;">The date functions allow you to convert between&nbsp;a 
 variety of date formats and to perform date arithmetic. The date functions 
 also allow you to retrieve the various components of a date, such as the 
 day of the week, in numeric form. </p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 90.7pt;
			border: none;
			border-top: solid #000000 4.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=90.7pt>
<h2><a name=Date_Pictures>Date Pictures</a></td>
<td colspan=2
	style="x-cell-content-align: top;
			width: 355.7pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=355.7pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">The format of a date string 
 is represented by a date picture string. A date picture is a string containing 
 several special formatting characters and other characters. The special 
 formatting characters are: </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><b>C&nbsp;&nbsp; </b>Century. A 'C' represents the first 
 digit of the century. If two 'C's appear together, then both digits of 
 the century are represented. Additional 'C' s are not used as formatting 
 characters. </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><b>Y</b>&nbsp;&nbsp; Year. A 'Y' represents the first digit 
 of the year. If two 'Y's appear together, they represent both digits of 
 the year. Additional 'Y' s are not used as formatting characters. </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><b>M </b>&nbsp;&nbsp;Month. One or two 'M's represent the 
 first or both digits of the month. If there are more than two consecutive 
 'M's, a character representation of the month is returned. </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><b>D</b>&nbsp;&nbsp; Day. One or two 'D' s represent the 
 first or both digits of the day of the month. Additional 'D' s are not 
 used as formatting characters. </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><b>Other Characters</b>&nbsp;&nbsp; Any character which 
 is not mentioned above is placed in the date string when it is formatted. 
 </p>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">For example, if the date 
 August 4 1994 is converted to a date string using the date picture &quot;MM/DD/CCYY&quot;, 
 the resulting date string is &quot;08/04/1994&quot;. If the same date 
 is converted with the date picture &quot;MMMMMMMM DD, YY&quot; the resulting 
 date string is &quot;August&nbsp;&nbsp; 04, 94&quot;. </td>
<td_null></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 90.7pt;
			border: none;
			border-top: solid #000000 4.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=90.7pt>
<h2><a name=Date_Formats>Date Formats</a></td>
<td style="x-cell-content-align: top;
			width: 351.2pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=351.2pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">Dates can be stored in 
 many formats. The two used by CodeBase are the standard format and the 
 Julian day format. </td>
<td style="width: 6px;
			border: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=6px>
<p class=Normal>&nbsp;</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 90.7pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=90.7pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;"><img src="../Images/ProgramDate1C.gif" v:shapes="_x0000_i1025" x-maintain-ratio="TRUE" style="width: 106px;
															height: 36px;
															float: none;
															border-style: none;" width="106" height="36" border="0"></td>
<td style="x-cell-content-align: top;
			width: 351.2pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=351.2pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">Program DATE1.C uses several 
 of the date functions to calculate the number of days until Christmas 
 and until your next birthday. </td>
<td style="width: 6px;
			border: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=6px>
<p class=Normal>&nbsp;</td></tr>
</table>

<p class=SourceCode>/* DATE1.C */&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>#include &quot;D4ALL.h&quot;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>int&nbsp; validDate(char *date) </p>

<p class=SourceCode>{&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp; long rc;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; rc = date4long(date);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; if(rc &lt; 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1; </p>

<p class=SourceCode>}&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>void howLongUntil(int month,int day,char *title) </p>

<p class=SourceCode>{&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp; char todayStandard[9],today[25],date[9],*dow;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; int&nbsp; year,days;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; long julianToday,julianDate;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; memset(todayStandard,NULL,sizeof(todayStandard));&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; memset(today,NULL,sizeof(today));&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; memset(date,NULL,sizeof(date));&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; date4today(todayStandard);&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; date4format(todayStandard,today,&quot;MMM 
 DD/CCYY&quot;);&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; printf(&quot;\nToday's date is %s\n&quot;,today);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp; /*convert todayStandard to julian day 
 format*/&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; julianToday = date4long(todayStandard);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; year = date4year(todayStandard);&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; sprintf(date,&quot;%4d%2d%2d&quot;,year,month,day);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; julianDate = date4long(date);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp; /* date has been passed this year */&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; if(julianDate &lt; julianToday)&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; year ++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(date,&quot;%4d%2d%2d&quot;,year,month,day);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; julianDate = date4long(date);&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; /* calculate the number of days to the 
 date */&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; days = julianDate - julianToday;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; printf(&quot;There are %d days until %s&quot;,days,title);&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; dow = date4cdow(date);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; printf(&quot;(which is a %s this year)\n&quot;,dow);&nbsp; 
 </p>

<p class=SourceCode>}&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>void main( void ) </p>

<p class=SourceCode>{&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp; char birthdate[80],standard[9];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; howLongUntil(12,25,&quot;Christmas&quot;);&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; do &nbsp;&nbsp;&nbsp;</p>

<p class=SourceCode>&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;\nPlease 
 enter your birthdate&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot; in \&quot;DEC 
 20/1993\&quot; format:&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gets(birthdate);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date4init(standard,birthdate,&quot;MMM 
 DD/CCYY&quot;);&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p class=SourceCode>&nbsp;&nbsp; }</p>

<p class=SourceCode>&nbsp;&nbsp; while(!validDate(standard));&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>

<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; howLongUntil(date4month(standard),date4day(standard), 
 &quot;your next birthday&quot;); </p>

<p class=SourceCode
	style="margin-bottom: 6.0pt;">}</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="margin-left: -.05in;
				border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="width: 5px;
			border: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=5px>
<p class=Normal>&nbsp;</td>
<td style="x-cell-content-align: top;
			width: 90.7pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=90.7pt>
<h3>Standard Format</td>
<td colspan=2
	style="x-cell-content-align: top;
			width: 351.2pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=351.2pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">Dates are stored in the 
 data file in &quot;CCYYMMDD&quot; format. This is known as the standard 
 format. The<span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;"> 
 f4str </span></span>function returns a date from&nbsp;a Date field&nbsp;in 
 this standard format. <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">f4assign</span></span><b> 
 </b>performs the opposite operation by storing&nbsp;a standard format&nbsp;date 
 string to the data file. </td>
<td_null></tr>

<tr>
<td colspan=3
	style="x-cell-content-align: top;
			width: 98.7pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=98.7pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;"><img src="../Images/Note.gif" v:shapes="_x0000_i1026" x-maintain-ratio="TRUE" style="width: 47px;
															height: 40px;
															float: none;
															border-style: none;" width="47" height="40" border="0">&nbsp;<b><sup><span 
 style="font-size: 16.0pt; font-family: Arial;">Note</span></sup></b></td>
<td_null>
<td_null>
<td style="x-cell-content-align: top;
			width: 346.8pt;
			border: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;
			background-color: #c0c0c0;"
	bgcolor=#C0C0C0
	valign=top
	width=346.8pt>
<p class=NoteText0>If <span class=InlineFunctionNames><span style="font-size: 10.0pt;">f4assign</span></span><b> 
 </b>is passed a date string in anything other than standard format, indexing 
 and seeking will not be performed correctly.</td></tr>

<tr style="height: 0px;">
<td style="width: 5px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=5px>
<p>&nbsp;</td>
<td style="width: 121px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=121px>
<p>&nbsp;</td>
<td style="width: 6px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=6px>
<p>&nbsp;</td>
<td style="width: 462px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=462px>
<p>&nbsp;</td></tr>
</table>

<p class=Normal>&nbsp;</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 90.7pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=90.7pt>
<h3>Julian Day Format&nbsp;</td>
<td style="x-cell-content-align: top;
			width: 351.2pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=351.2pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">Another important date 
 format is the Julian day format, which is stored as <span class=InlineLanguageType><span 
 style="font-size: 10.0pt;">(long). </span></span>A Julian day is defined 
 as the number of days since Jan. 1, 4713 BC. Having the date accessible 
 in this format lets you perform date arithmetic. Two dates can be subtracted 
 to find the number of days separating them, or an integer number of days 
 can be added to a date.</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 90.7pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=90.7pt>
<h3>Converting Between Formats</td>
<td style="x-cell-content-align: top;
			width: 351.2pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=351.2pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">Since dates are only stored 
 in the data file in standard format, conversion functions have been provided 
 for converting between standard and julian day format, as well as converting 
 between standard and any other format. </p>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">The interrelationships 
 between the data file, date formats and date functions are illustrated 
 by Figure 7.1.</td></tr>
</table>

<p class=Normal><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span></p>

<p class=Normal><img src="../Images/DateConversions.gif" v:shapes="_x0000_i1027" x-maintain-ratio="TRUE" style="width: 528px;
							height: 394px;
							float: none;
							border-style: none;" width="528" height="394" border="0"></p>

<p class=Normal
	style="margin-top: 6.0pt;
			margin-right: 0in;
			margin-bottom: 6.0pt;
			margin-left: 0in;"><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 Figure 7.1&nbsp;&nbsp;&nbsp; Date Conversions</span></span></p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2>&nbsp;</td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">As mentioned above, dates 
 are stored and retrieved from the data file using the functions <span 
 class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">f4assign</span></span> 
 and <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">f4str</span></span>.</p>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">Date strings in standard 
 format can be converted to Julian day&nbsp;format by using the <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">date4long</span></span> 
 function. The inverse of this function is <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">date4assign</span></span>, 
 which converts a Julian date back into a standard date string.</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2 style="margin-bottom: 6.0pt; text-align: right;"
	align=right><span class=InlineCommentText><span style="font-size: 9.0pt; font-weight: normal;">code 
 fragment from DATE1.C</span></span></td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=SourceCode>julianToday = date4long(todayStandard);</p>
<p class=SourceCode>&nbsp;</p>
<p class=SourceCode
	style="margin-bottom: 6.0pt;">&nbsp;</td></tr>
</table>

<p class=style8x11>&nbsp;</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2>&nbsp;</td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">To convert from a standard 
 date string to another format, the <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">date4format</span></span> 
 function is used. This function uses a provided date picture to format 
 the date string.</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2 style="margin-bottom: 6.0pt; text-align: right;"
	align=right><span class=InlineCommentText><span style="font-size: 9.0pt; font-weight: normal;">code 
 fragment from DATE1.C</span></span></td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=SourceCode>date4format(todayStandard, today, &quot;MMM DD/CCYY&quot;);</p>
<p class=SourceCode>&nbsp;</p>
<p class=SourceCode
	style="margin-bottom: 6.0pt;">&nbsp;</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2>&nbsp;</td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">To convert from a date 
 string in any other format to standard format, the <span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">date4init</span></span> 
 function is used. This time the date picture string is used to specify 
 what format the original string is in. If any part of the date is missing, 
 the missing portion is filled in using the date January 1, 1980.</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2 style="margin-bottom: 6.0pt; text-align: right;"
	align=right><span class=InlineCommentText><span style="font-size: 9.0pt; font-weight: normal;">code 
 fragment from DATE1.C</span></span></td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=SourceCode>date4init(standard, birthdate, &quot;MMM DD/CCYY&quot;);</p>
<p class=SourceCode>&nbsp;</p>
<p class=SourceCode
	style="margin-bottom: 6.0pt;">&nbsp;</td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			border: none;
			border-top: solid #000000 4.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2><a name=Testing_For_Invalid_Dates>Testing For Invalid Dates</a></td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">You can test for invalid 
 dates using the <span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4long</span></span><b> 
 </b>function. If the date string, in standard format, is not a valid date, 
 the date4long function will return <span class=InlineLanguageType><span 
 style="font-size: 10.0pt;">'(long) -1'</span></span>. If it is passed 
 a blank string, the function returns zero. The following example function 
 tests for valid dates: </td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<p class=Body
	style="margin-left: 0in;
			text-align: right;
			text-indent: 0in;"
	align=right><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">Code 
 fragment from DATE1.C </span></span></td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=SourceCode>int&nbsp; validDate( char *date ) </p>
<p class=SourceCode>{&nbsp;&nbsp;&nbsp; </p>
<p class=SourceCode>&nbsp;&nbsp; long rc;</p>
<p class=SourceCode>&nbsp;</p>
<p class=SourceCode>&nbsp;&nbsp; rc = date4long(date);</p>
<p class=SourceCode>&nbsp;</p>
<p class=SourceCode>&nbsp;&nbsp; if( rc &lt; 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>
<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;&nbsp;&nbsp;&nbsp; 
 </p>
<p class=SourceCode>&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </p>
<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1; </p>
<p class=SourceCode
	style="margin-bottom: 6.0pt;">} </td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			border: none;
			border-top: solid #000000 4.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2 style="margin-bottom: 6.0pt;"><a name=Other_Date_Functions>Other Date 
 Functions</a></td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">There are several other 
 date functions that perform various date related tasks: </td></tr>

<tr>
<td style="x-cell-content-align: top;
			width: 95.4pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h3>Days and Months as Characters</td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">There are two functions 
 that return the day or month portion of the<b> </b>date string as a character 
 strings. They are: </p>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;"><span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">date4cdow</span></span>&nbsp;&nbsp; 
 The day of the week in character&nbsp;form&nbsp;is returned. </p>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;"><span class=InlineFunctionNames><span 
 style="font-size: 10.0pt; font-family: Arial;">date4cmonth</span></span><b>&nbsp;&nbsp; 
 </b>The day of the month in character&nbsp;form is returned. </td></tr>
</table>

<p class=style8x11>&nbsp;</p>

<!--(Table)=========================================================-->
<table x-use-null-cells
		style="border-collapse: collapse;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0>

<tr>
<td colspan=2
	style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<p class=Body
	style="margin-left: 0in;
			text-align: right;
			text-indent: 0in;"
	align=right><span class=InlineCommentText><span style="font-size: 9.0pt; font-family: Arial;">Code 
 fragment from DATE1.C </span></span></td>
<td_null>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=SourceCode>dow = date4cdow(date);</p>
<p class=SourceCode>&nbsp;</p>
<p class=SourceCode
	style="margin-bottom: 6.0pt;">&nbsp;</td></tr>

<tr>
<td colspan=2
	style="x-cell-content-align: top;
			width: 95.4pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h3>Days, Months and Years as Integers</td>
<td_null>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">There are four functions 
 that return a portion of the date string as integer values: </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4day</span></span>&nbsp; 
 The day of the month is returned as an integer&nbsp;value from 1 to 31. 
 </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4dow</span></span><b>&nbsp; 
 </b>The day of the week is returned as an integer&nbsp;value from 1 to 
 7. </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4month</span></span><b>&nbsp; 
 </b>The month of the year is returned as an integer&nbsp;value from 1 
 to 12. </p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4year</span></span>. 
 Returns the century/year portion&nbsp;of the date&nbsp;as an integer value. 
 </td></tr>

<tr>
<td colspan=2
	style="x-cell-content-align: top;
			width: 95.4pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=95.4pt>
<h2 style="margin-bottom: 6.0pt; text-align: right;"
	align=right><span class=InlineCommentText><span style="font-size: 9.0pt; font-weight: normal;">code 
 fragment from DATE1.C</span></span></td>
<td_null>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			padding: 0in 5.4pt 0in 5.4pt;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=SourceCode>howLongUntil(date4month(standard), date4day(standard), 
 </p>
<p class=SourceCode>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 &quot;your next birthday&quot;);</p>
<p class=SourceCode
	style="margin-bottom: 6.0pt;">&nbsp;</td></tr>

<tr>
<td style="width: 2px;
			border: none;
			padding: 0in 0in 0in 0in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=2px>
<p class=Normal>&nbsp;</td>
<td style="x-cell-content-align: top;
			width: 1.3in;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in .05in 0in .05in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=1.3in>
<h3>Miscellaneous Functions</td>
<td style="x-cell-content-align: top;
			width: 346.5pt;
			border: none;
			border-top: solid #000000 .75pt;
			padding: 0in .05in 0in .05in;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	valign=top
	width=346.5pt>
<p class=Body
	style="margin-left: 0in; text-indent: 0in;">CodeBase also provides 
 the following miscellaneous date functions:</p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4isLeap</span></span> 
 Returns true (non-zero) if the date falls within a leap year&nbsp;and 
 false (zero) otherwise.</p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4timeNow</span></span>&nbsp; 
 Returns a string containing the current system time&nbsp;formatted as 
 &quot;HH:MM:SS&quot;.</p>
<p class=Body
	style="margin-left: .25in; text-indent: -.25in;"><span style="font-family: Symbol;">·<span 
 style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 </span></span><span class=InlineFunctionNames><span style="font-size: 10.0pt; font-family: Arial;">date4today</span></span>&nbsp; 
 Initializes a date string with today's date.</td></tr>

<tr style="height: 0px;">
<td style="width: 2px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=2px>
<p>&nbsp;</td>
<td style="width: 125px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=125px>
<p>&nbsp;</td>
<td style="width: 462px;
			border: none;
			padding-left: 0px;
			padding-top: 0px;
			padding-right: 0px;
			padding-bottom: 0px;"
	width=462px>
<p>&nbsp;</td></tr>
</table>

<p class=Normal
	style="margin-left: .1in; line-height: 12.15pt;">&nbsp;</p>

<p class=Normal>&nbsp;</p>

</body>

</html>
